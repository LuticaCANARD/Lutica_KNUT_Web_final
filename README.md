# 본 레포지스트리 :
- 2017011 웹프로그래밍 기말 과제
- <23-12-12일까지 엠바고있음.>
- https://port-0-lutica-knut-web-final-3szcb0g2blpam13n5.sel5.cloudtype.app/

# 스케쥴
- 11월 30일 코딩 종료후 11일간 보고서 수정.
- 25 26 27 28 29 : post 기능 완성
- 29 30 : 덧글기능 완성
- 30 1: 스케쥴 기능 완성
- 12.1 2 : 코드 리뷰, 보고서준비.
- 이후 보고서및 디버깅해서 12월 10일 제출준비.

# 기획안
- 인스타 베이스.
- 포스트 모음으로 시작...
- 데이터 시각화.

# 보고서 작성시 참고
## 회원가입 기능
- Router : `/auth`
1. MYSQL에 `Session` 테이블에 유저 객체 저장
2. MYSQL 테이블중 `User`에 유저의 아이디, 비밀번호를 저장함.
3. 비밀번호는 해시하여 저장
4. passport를 사용하여 로그인 전략을 설정함.
5. passport는 로그인 이후 DB에서 유저 객체의 정보를 일부 가져와 세션에 보존하여 유저정보의 키로 사용.

## 파일 저장/불러오기
- Router : `/file`
> 핵심 아이디어 :  일반적인 파일 다운로드시 static과 충돌 날 수 있으니, 다른 라우터로 분리하여 해결하자.
> 원래라면 CDN 들고왔겠으나 패스...(비용도 비용이고)
1. (`file/upload`) 파일 업로드시, multer를 통하여 업로드
2. 업로드시, 파일 자체의 메타정보를 Mysql에 저장하여 유저 게시글 등등에 사용가능하게함.
3. (`file/download`) 다운로드시, 파일의 존재유무를 우선 검사하고, 존재하면 그 파일을 다운로드 하게함.

## 유저 포스팅
- post 내용과 사진 etc등 사용.
- 친추가 되어있다면 메인페이지 로드시 친구테이블 참조하여 불러와줌. (github처럼.)
- link는 uuid기준. 
- main desc, posts 모델로 전향.
- desc는 db에 붙히자. 딱히 맘엔 안들지만. (document니까 mongo에 할 수 있지 않느냐고 반론할 수 있지만 딱히 자율성이 보장될 메리트가 없다.)

### 문서 첨부로 블로그 작성
- .md/txt 디코딩하기.
- **XSS 등 주의**

## 유저 친구추가
- request
- accept / deny
- delete

## 유저 덧글
- comment. post/user/

## 유저 스케쥴 기능
- 스케쥴 내용 자체는 mongo
- 스케쥴 쿼리는 My